(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{191:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return b}));var a=n(1),r=n(9),o=(n(0),n(264)),i={id:"COConversations",title:"Conversations & Alerts",sidebar_label:"Overview"},s={id:"COConversations",title:"Conversations & Alerts",description:"![Licence](https://img.shields.io/badge/Licence-MIT-blue.svg)",source:"@site/docs/Component Overview Conversation.md",permalink:"/docs/docs/COConversations",editUrl:"https://github.com/Samagra-Development/docs/edit/master/docs/Component Overview Conversation.md",sidebar_label:"Overview",sidebar:"someSidebar",previous:{title:"Architecture",permalink:"/docs/docs/PDFModuleArchitecture"},next:{title:"Conversation Channel Adapters",permalink:"/docs/docs/CommunicationAdapter"}},c=[{value:"1. Introduction",id:"1-introduction",children:[]},{value:"1. Use cases",id:"1-use-cases",children:[]},{value:"2. Design decisions",id:"2-design-decisions",children:[]},{value:"3. Component Design",id:"3-component-design",children:[]},{value:"3.1 Technology Architecture",id:"31-technology-architecture",children:[]},{value:"3.2 Components modules",id:"32-components-modules",children:[]}],l={rightToc:c};function b(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"https://img.shields.io/badge/Licence-MIT-blue.svg",alt:"Licence"}))),Object(o.b)("h1",{id:"component-overview"},"Component Overview"),Object(o.b)("h2",{id:"1-introduction"},"1. Introduction"),Object(o.b)("p",null,"As bureaucrats and politicians manage the fallout of Covid-19 and its resultant restrictions, a question different governments are grappling with is - how can communication channels such as WhatsApp be leveraged to reach out to citizens and government on-field officials. Today, there are different government systems that are linked to government call centres, send SMS and email alerts, take feedback from IVRS. While these exist in some state departments and central government ministries the questions of how to use them are evolving. For instance"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"how do you start a converation with a person when they don't respond on SMS, or on WhatsApp?"),Object(o.b)("li",{parentName:"ul"},"if you change your channel of communication can you follow the same conversation question logic? e.g. if SMS does not get delivered in 8 hours send WhatsApp, if WhatsApp not read for 8 hour send IVRS"),Object(o.b)("li",{parentName:"ul"},"can the conversation be adaptive and personalized? e.g. test that keeps getting difficult if you get things right"),Object(o.b)("li",{parentName:"ul"},"if the conversation is adaptive can grievances be entirely managed through WhatsApp bots? e.g. grievance about your local street light to your municipal corporation "),Object(o.b)("li",{parentName:"ul"},"can citizens upload pictures and videos while sharing their grievance through a WhatsApp bot?"),Object(o.b)("li",{parentName:"ul"},"can citizens get auto SMS or WhatsApp updates to indicate status of their grievance? "),Object(o.b)("li",{parentName:"ul"},"if students do their assessments using a WhatsApp bot can they be sent an auto generated Certificate on WhatsApp itself?")),Object(o.b)("p",null,"These are some of the questions that can be turned into reality through this Conversations & Alerts component. The Conversations & Alerts component enables multi-channel communication using WhatsApp, SMS, IVRS, direct calls and emails to streamline governance as we move towards a new normal where proactive and personalized communication will be a basic expectation from governments."),Object(o.b)("p",null,"This documentation of the Conversations & Alerts component will give you an overview of the design decisions that inform the architecture of the component, how you can get started to deploy this component, how you can setup different modules within this component and additional reference information in case you want to dive deeper into the implementation of this component."),Object(o.b)("h2",{id:"1-use-cases"},"1. Use cases"),Object(o.b)("p",null,"The following list includes a set of use cases abstracted from different on-ground state department functions."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"User can create and launch logic based conversations such as a helpline, for grievance management, for taking student assessment, share updates with your stakeholders"),Object(o.b)("li",{parentName:"ol"},"User can send conversations using multiple channels such as WhatsApp, SMS, Email, IVRS (more can be added by the user such as Telegram, Slack etc)"),Object(o.b)("li",{parentName:"ol"},"User can setup additional computations on these conversations such as auto generation of PDFs, email with data summaries (more can be added by the user)"),Object(o.b)("li",{parentName:"ol"},"User can auto send conversations using pre-configured triggers on databases"),Object(o.b)("li",{parentName:"ol"},"User can setup a smart grievance redressal / helpline converation through WhatsApp / SMS bots.")),Object(o.b)("h2",{id:"2-design-decisions"},"2. Design decisions"),Object(o.b)("p",null,"While architecting this component we had the following questions."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Why should governments spend public expenditure for creating a platform for managing a conversation? (use exiting open source tools to build one)"),Object(o.b)("li",{parentName:"ol"},"With the recent Data Protection Bill 2019, why should governments store conversation data on private / thrid party servers? (should be deployable on govt infrastructure)"),Object(o.b)("li",{parentName:"ol"},"Can we decrease the time spent to configure conversations across different channels? (single simple method to do so)"),Object(o.b)("li",{parentName:"ol"},"Can the government not be locked-in by a single channel service provider? (freely switch between private vendors thereby increasing market competition for core service)"),Object(o.b)("li",{parentName:"ol"},"In addition to WhatsApp, SMS, Email, IVRS if  governments want to send and receive information from other channels such as Kaizala, Telegram and Slack that they use for internal communication, then can those be integrated? (modular mechanism to plug and play channels)"),Object(o.b)("li",{parentName:"ol"},"If 20 state governments start conversations with 100,000,000 users can the system manage it well? (database design with smart horizontal scaling)")),Object(o.b)("h2",{id:"3-component-design"},"3. Component Design"),Object(o.b)("p",null,"The conversaton component is developed using ",Object(o.b)("strong",{parentName:"p"},"multi-modular architecture")," with ",Object(o.b)("strong",{parentName:"p"},"independently functioning modules"),"."),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"https://samagra-development.github.io/docs/img/communications.png",alt:null}))),Object(o.b)("h2",{id:"31-technology-architecture"},"3.1 Technology Architecture"),Object(o.b)("p",null,"A simplified architecture of the communication package is shown below."),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"https://samagra-development.github.io/docs/img/comm_arch.jpg",alt:null}))),Object(o.b)("h2",{id:"32-components-modules"},"3.2 Components modules"),Object(o.b)("p",null,"The following table provides an overview of the different modules within the Conversations & Alerts component, the opensource libraries used for each."),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Module Name"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null})))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("strong",{parentName:"td"},"Channel Adapters")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1. Integrate conversation channels such as WhatsApp, SMS, Email with existing adapter ",Object(o.b)("br",null),"2. Create your own adapter to integrate with other chat services. ",Object(o.b)("br",null),"3. Adapters available for WhatsApp, SMS - CDAC, SMS - Gupshup")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("strong",{parentName:"td"},"Orchestrator (Router)")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1. Move routing logic outside of code and make it more accessible to everyone. ",Object(o.b)("br",null),"2. Manage multi-channel communication ",Object(o.b)("br",null),"3. Manage logic for moving a user from one channel to another ",Object(o.b)("br",null),"3. Transformers available - conversation response based PDF & Word doc creator")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("strong",{parentName:"td"},"Transformer")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1. Create and integrate utility services using the open source transformer desgin such as ",Object(o.b)("br",null)," - PDF creator, ",Object(o.b)("br",null)," - Profanity checker ",Object(o.b)("br",null)," - Language translator ",Object(o.b)("br",null)," - Conversation voice analyser ",Object(o.b)("br",null),"2. Opensource tools usd - Drools")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("strong",{parentName:"td"},"Event Bus")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1. Building a near real time broker ",Object(o.b)("br",null)," 2. Adding services outside of the system to the internals ",Object(o.b)("br",null)," 3. Providing streams on which the orchestrator can run efficiently. ",Object(o.b)("br",null),"4. Open source tools used - Kafka, PSQL")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("strong",{parentName:"td"},"Managing User Conversations")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1. Manage data of ongoing conversations ",Object(o.b)("br",null),"2. Manage data for completed conversations ",Object(o.b)("br",null),"3. Manage data from utility services enabled within the conversations ",Object(o.b)("br",null)," This is built in the Application Console.")))))}b.isMDXComponent=!0},264:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),b=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s({},t,{},e)),n},u=function(e){var t=b(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=b(n),p=a,m=u["".concat(i,".").concat(p)]||u[p]||d[p]||o;return n?r.a.createElement(m,s({ref:t},l,{components:n})):r.a.createElement(m,s({ref:t},l))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);