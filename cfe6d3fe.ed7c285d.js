(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{218:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return i})),t.d(a,"metadata",(function(){return b})),t.d(a,"rightToc",(function(){return c})),t.d(a,"default",(function(){return s}));var r=t(1),n=t(9),o=(t(0),t(238)),i={id:"AppDataManagement",title:"Application Data Management",sidebar_label:"Application Data Management"},b={id:"AppDataManagement",title:"Application Data Management",description:"## 1. Overview",source:"@site/docs/Admin - Adding External Data.md",permalink:"/docs/docs/AppDataManagement",editUrl:"https://github.com/Samagra-Development/docs/edit/master/docs/Admin - Adding External Data.md",sidebar_label:"Application Data Management",sidebar:"someSidebar",previous:{title:"User Authorisation",permalink:"/docs/docs/UserAuthorisation"},next:{title:"Application Config Management",permalink:"/docs/docs/AppConfig"}},c=[{value:"1. Overview",id:"1-overview",children:[]},{value:"2. Terminology and Setup",id:"2-terminology-and-setup",children:[{value:"2.1 Data Providers",id:"21-data-providers",children:[]},{value:"2.2 Available Providers",id:"22-available-providers",children:[]},{value:"2.3 Usage",id:"23-usage",children:[]},{value:"2.4 Handling multiple databases",id:"24-handling-multiple-databases",children:[]}]},{value:"3. FAQs",id:"3-faqs",children:[]},{value:"4. Coming Soon",id:"4-coming-soon",children:[]}],l={rightToc:c};function s(e){var a=e.components,t=Object(n.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,t,{components:a,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"1-overview"},"1. Overview"),Object(o.b)("p",null,"Connecting to additonal databases can be done by creating an additional dataprovider for your database if it doesn't exist or using an existing one, example - Hasura can be connected to PSQL and has a dataprovider. Dataproviders can be built easily and for an example we have built one for FusionAuth which you can check out ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/ChakshuGautam/ra-data-fusionAuth"}),"here"),"."),Object(o.b)("p",null,"For a detailed view on how to build a dataprovider go to next section."),Object(o.b)("h2",{id:"2-terminology-and-setup"},"2. Terminology and Setup"),Object(o.b)("h3",{id:"21-data-providers"},"2.1 Data Providers"),Object(o.b)("p",null,"Whenever react-admin needs to communicate with the API, it calls methods on the Data Provider object."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"dataProvider.getOne('posts', {id: 123}).then(response => {\n  console.log(response.data); // { id: 123, title: \"hello, world\" }\n});\n")),Object(o.b)("p",null,"It's the Data Provider's job to turns these method calls into HTTP requests, and transform the HTTP responses to the data format expected by react-admin. In technical terms, a Data Provider is an ",Object(o.b)("em",{parentName:"p"},"adapter")," for an API."),Object(o.b)("p",null,"And to inject a Data Provider in a react-admin application, pass it as the ",Object(o.b)("inlineCode",{parentName:"p"},"dataProvider")," prop of the ",Object(o.b)("inlineCode",{parentName:"p"},"<Admin>")," component, as follows:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"import {Admin, Resource} from 'react-admin';\nimport dataProvider from '../myDataProvider';\n\nconst App = () => <Admin dataProvider={dataProvider}>// ...</Admin>;\n")),Object(o.b)("p",null,"Thanks to this adapter injection system, react-admin can communicate with any API, whether it uses REST, GraphQL, RPC, or even SOAP, regardless of the dialect it uses. The Data Provider is also the ideal place to add custom HTTP headers, authentication, etc."),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"../img/data-provider.png",alt:"Data Provider architecture"}))),Object(o.b)("p",null,"A Data Provider must have the following methods:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"const dataProvider = {\n  getList: (resource, params) => Promise,\n  getOne: (resource, params) => Promise,\n  getMany: (resource, params) => Promise,\n  getManyReference: (resource, params) => Promise,\n  create: (resource, params) => Promise,\n  update: (resource, params) => Promise,\n  updateMany: (resource, params) => Promise,\n  delete: (resource, params) => Promise,\n  deleteMany: (resource, params) => Promise,\n};\n")),Object(o.b)("p",null,"You can find an example Data Provider implementation at the end of this chapter."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Tip"),": In react-admin v2, Data Providers used to be functions, not objects. React-admin v3 can detect a legacy Data Provider and wrap an object around it. So Data Providers developed for react-admin v2 still work with react-admin v3."),Object(o.b)("h3",{id:"22-available-providers"},"2.2 Available Providers"),Object(o.b)("p",null,"The react-admin project includes 4 Data Providers:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Simple REST: ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/marmelab/react-admin/tree/master/packages/ra-data-simple-rest"}),"marmelab/ra-data-simple-rest")," (",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"#usage"}),"read more below"),"). It serves mostly as an example. Incidentally, it is compatible with the ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/marmelab/FakeRest"}),"FakeRest")," API."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/typicode/json-server"}),"JSON server")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/marmelab/react-admin/tree/master/packages/ra-data-json-server"}),"marmelab/ra-data-json-server"),". Great for prototyping an admin over a yet-to-be-developed REST API."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://www.graph.cool/"}),"Graphcool"),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/marmelab/react-admin/tree/master/packages/ra-data-graphcool"}),"marmelab/ra-data-graphcool"),". A provider for GraphQL servers following the Graphcool convention. Incidentally, this package builds up on ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/marmelab/react-admin/tree/master/packages/ra-data-graphql"}),"marmelab/ra-data-graphql"),", which lets you develop providers for other GraphQL conventions."),Object(o.b)("li",{parentName:"ul"},"Local JSON: ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/marmelab/react-admin/tree/master/packages/ra-data-fakerest"}),"marmelab/ra-data-fakerest"),". Based on a local object, it doesn't even use HTTP. Use it for testing purposes.")),Object(o.b)("p",null,"Developers from the react-admin community have open-sourced Data Providers for many more backends:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://www.django-rest-framework.org/"}),"Django Rest Framework")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/synaptic-cl/ra-data-drf"}),"synaptic-cl/ra-data-drf")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/lalalilo/express-sequelize-crud"}),"Express & Sequelize")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/lalalilo/express-sequelize-crud"}),"express-sequelize-crud")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"http://www.feathersjs.com/"}),"Feathersjs")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/josx/ra-data-feathers"}),"josx/ra-data-feathers")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://firebase.google.com/docs/database"}),"Firebase")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/aymendhaya/ra-data-firebase-client"}),"aymendhaya/ra-data-firebase-client"),"."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://firebase.google.com/docs/firestore"}),"Firestore")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/rafalzawadzki/ra-data-firestore-client"}),"rafalzawadzki/ra-data-firestore-client"),"."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"http://www.graph.cool/"}),"GraphCool")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/marmelab/react-admin/tree/master/packages/ra-data-graphcool"}),"marmelab/ra-data-graphcool")," (uses ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"http://www.apollodata.com/"}),"Apollo"),")"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"http://graphql.org/"}),"GraphQL")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/marmelab/react-admin/tree/master/packages/ra-data-graphql"}),"marmelab/ra-data-graphql")," (uses ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"http://www.apollodata.com/"}),"Apollo"),")"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"http://stateless.co/hal_specification.html"}),"HAL")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/b-social/ra-data-hal"}),"b-social/ra-data-hal")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/hasura/graphql-engine"}),"Hasura")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/hasura/graphql-engine/tree/master/community/tools/ra-data-hasura"}),"hasura/ra-data-hasura")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"http://www.hydra-cg.com/"}),"Hydra")," / ",Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://json-ld.org/"}),"JSON-LD")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/api-platform/admin/blob/master/src/hydra/dataProvider.js"}),"api-platform/admin/hydra")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API"}),"IndexedDB")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/tykoth/ra-data-dexie"}),"tykoth/ra-data-dexie")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"http://jsonapi.org/"}),"JSON API")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/henvo/ra-jsonapi-client"}),"henvo/ra-jsonapi-client")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://tools.ietf.org/html/draft-kelly-json-hal-08"}),"JSON HAL")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://www.npmjs.com/package/ra-data-json-hal"}),"ra-data-json-hal")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/typicode/json-server"}),"JSON server")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/marmelab/react-admin/tree/master/packages/ra-data-json-server"}),"marmelab/ra-data-json-server"),"."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://loopback.io/"}),"Loopback")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/darthwesker/react-admin-loopback"}),"darthwesker/react-admin-loopback")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/RancaguaInnova/moleculer-data-provider"}),"Moleculer Microservices")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/RancaguaInnova/moleculer-data-provider"}),"RancaguaInnova/moleculer-data-provider")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/nestjsx/crud"}),"NestJS CRUD")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/FusionWorks/react-admin-nestjsx-crud-dataprovider"}),"FusionWorks/react-admin-nestjsx-crud-dataprovider")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://parseplatform.org/"}),"Parse")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/almahdi/ra-data-parse"}),"almahdi/ra-data-parse")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://postgrest.org/"}),"PostgREST")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/raphiniert-com/ra-data-postgrest"}),"raphiniert-com/ra-data-postgrest")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/weakky/ra-data-prisma"}),"Prisma")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/weakky/ra-data-prisma"}),"weakky/ra-data-prisma")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://www.opencrud.org/"}),"OpenCRUD")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/Weakky/ra-data-opencrud"}),"weakky/ra-data-opencrud")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/JKHeadley/rest-hapi"}),"REST-HAPI")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/mkg20001/ra-data-rest-hapi"}),"ra-data-rest-hapi")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://sailsjs.com/"}),"Sails.js")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/mpampin/ra-data-json-sails"}),"mpampin/ra-data-json-sails")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://spring.io/projects/spring-boot"}),"Spring Boot")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/vishpat/ra-data-springboot-rest"}),"vishpat/ra-data-springboot-rest")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://strapi.io/"}),"Strapi")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/nazirov91/ra-strapi-rest"}),"nazirov91/ra-strapi-rest"))),Object(o.b)("p",null,"If you've written a Data Provider for another backend, and open-sourced it, please help complete this list with your package."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Tip"),": In version 1, react-admin was called ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/marmelab/admin-on-rest"}),"admin-on-rest")," (AOR), and developers shared Data Providers for even more backends. Due to breaking changes in v2, these providers are no longer working. Fortunately, Data Providers aren't complex pieces of code, and using legacy Data Provider with a recent react-admin version requires minimal changes. If you are a maintainer of one of these projects, we would warmly welcome an upgrade."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/abiglobalhealth/aor-dynamodb-client"}),"DynamoDb")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/abiglobalhealth/aor-dynamodb-client"}),"abiglobalhealth/aor-dynamodb-client")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/dchester/epilogue"}),"Epilogue")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/dunghuynh/aor-epilogue-client"}),"dunghuynh/aor-epilogue-client")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/ParsePlatform/parse-server"}),"Parse Server")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/leperone/aor-parseserver-client"}),"leperone/aor-parseserver-client")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"strong"},{href:"https://github.com/o1lab/xmysql"}),"Xmysql")),": ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/soaserele/aor-xmysql"}),"soaserele/aor-xmysql"))),Object(o.b)("h3",{id:"23-usage"},"2.3 Usage"),Object(o.b)("p",null,"As an example, let's focus on the Simple REST data provider. It fits REST APIs using simple GET parameters for filters and sorting."),Object(o.b)("p",null,"Install the ",Object(o.b)("inlineCode",{parentName:"p"},"ra-data-simple-rest")," package to use this provider."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"yarn add ra-data-simple-rest\n")),Object(o.b)("p",null,"Then, initialize the provider with the REST backend URL, and pass the result to the ",Object(o.b)("inlineCode",{parentName:"p"},"dataProvider")," prop of the ",Object(o.b)("inlineCode",{parentName:"p"},"<Admin>")," component:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"// in src/App.js\nimport React from 'react';\nimport {Admin, Resource} from 'react-admin';\nimport simpleRestProvider from 'ra-data-simple-rest';\n\nimport {PostList} from './posts';\n\nconst App = () => (\n  <Admin dataProvider={simpleRestProvider('http://path.to.my.api/')}>\n    <Resource name=\"posts\" list={PostList} />\n  </Admin>\n);\n\nexport default App;\n")),Object(o.b)("p",null,"Here is how this Data Provider maps react-admin calls to API calls:"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"Method name"),Object(o.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"API call"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"getList")),Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},'GET http://my.api.url/posts?sort=["title","ASC"]&range=[0, 24]&filter={"title":"bar"}'))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"getOne")),Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"GET http://my.api.url/posts/123"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"getMany")),Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},'GET http://my.api.url/posts?filter={"id":[123,456,789]}'))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"getManyReference")),Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},'GET http://my.api.url/posts?filter={"author_id":345}'))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"create")),Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"POST http://my.api.url/posts/123"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"update")),Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"PUT http://my.api.url/posts/123"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"updateMany")),Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Multiple calls to ",Object(o.b)("inlineCode",{parentName:"td"},"PUT http://my.api.url/posts/123"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"delete")),Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"DELETE http://my.api.url/posts/123"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"deteleMany")),Object(o.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Multiple calls to ",Object(o.b)("inlineCode",{parentName:"td"},"DELETE http://my.api.url/posts/123"))))),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Note"),": The simple REST client expects the API to include a ",Object(o.b)("inlineCode",{parentName:"p"},"Content-Range")," header in the response to ",Object(o.b)("inlineCode",{parentName:"p"},"getList")," calls. The value must be the total number of resources in the collection. This allows react-admin to know how many pages of resources there are in total, and build the pagination controls."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"Content-Range: posts 0-24/319\n")),Object(o.b)("p",null,"If your API is on another domain as the JS code, you'll need to whitelist this header with an ",Object(o.b)("inlineCode",{parentName:"p"},"Access-Control-Expose-Headers")," ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS"}),"CORS")," header."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"Access-Control-Expose-Headers: Content-Range\n")),Object(o.b)("h3",{id:"24-handling-multiple-databases"},"2.4 Handling multiple databases"),Object(o.b)("p",null,"A way of handling multiple dataproviders is to create a ",Object(o.b)("inlineCode",{parentName:"p"},"master dataprovider")," which would then call the individual dataproviders to get he the data for individual resources. A folder with the following structure should do"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"    dataProvider\n        dataprovider1.js\n        dataprovider2.js\n        index.js\n")),Object(o.b)("p",null,"While doing that, you'll have to put conditions on which resource you want to use which data provider shown as follows."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-javascript"}),"import dataprovider1 from './dataprovider1';\nimport dataprovider2 from './dataprovider2';\nimport dataproviderFromPackage from './dummyLibrary';\n\nconst dataProviderResources = {\n  user: dataprovider1,\n  books: dataproviderFromPackage,\n  default: dataprovider1,\n};\n")),Object(o.b)("p",null,"here, you'll have to populate ",Object(o.b)("em",{parentName:"p"},"dataProviderResources")," object with resources as key and dataprovider as value."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"default")," is mendatory as a data provider in this, as everytime when any the resource is not assigned explicitly in this configuration, it will automatically fallback to the default data provider."),Object(o.b)("p",null,"Note that this works only for dataproviders built with the new dataprovider scheme which ensures it be an ",Object(o.b)("inlineCode",{parentName:"p"},"object")," rather than a function. If you have an older dataprovider, you can convert it in the following way, (Example for hasura)"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-javascript"}),"const dataProviderHasura = hasuraDataProvider('http://xxx.x.x.x:xxxx', headers);\n\nexport default {\n  getList: (resource, params) => dataProviderHasura(GET_LIST, resource, params),\n  getOne: (resource, params) => dataProviderHasura(GET_ONE, resource, params),\n  getMany: (resource, params) => dataProviderHasura(GET_MANY, resource, params),\n  getManyReference: (resource, params) =>\n    dataProviderHasura(GET_MANY_REFERENCE, resource, params),\n  update: (resource, params) => dataProviderHasura(UPDATE, resource, params),\n  updateMany: (resource, params) =>\n    dataProviderHasura(UPDATE_MANY, resource, params),\n  create: (resource, params) => dataProviderHasura(CREATE, resource, params),\n  delete: (resource, params) => dataProviderHasura(DELETE, resource, params),\n  deleteMany: (resource, params) =>\n    dataProviderHasura(DELETE_MANY, resource, params),\n};\n")),Object(o.b)("p",null,"After this all you need to do is import this ",Object(o.b)("inlineCode",{parentName:"p"},"master dataprovider")," to the app like this ",Object(o.b)("inlineCode",{parentName:"p"},'import dataProvider from "./react-admin-base/dataProviders";')),Object(o.b)("h2",{id:"3-faqs"},"3. FAQs"),Object(o.b)("p",null,"To be added based on incoming feedback"),Object(o.b)("h2",{id:"4-coming-soon"},"4. Coming Soon"),Object(o.b)("p",null,"Please review the following section to get information about planned updates to this module."))}s.isMDXComponent=!0},238:function(e,a,t){"use strict";t.d(a,"a",(function(){return p})),t.d(a,"b",(function(){return h}));var r=t(0),n=t.n(r);function o(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){o(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function c(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var l=n.a.createContext({}),s=function(e){var a=n.a.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):b({},a,{},e)),t},p=function(e){var a=s(e.components);return n.a.createElement(l.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.a.createElement(n.a.Fragment,{},a)}},d=Object(r.forwardRef)((function(e,a){var t=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=s(t),d=r,h=p["".concat(i,".").concat(d)]||p[d]||m[d]||o;return t?n.a.createElement(h,b({ref:a},l,{components:t})):n.a.createElement(h,b({ref:a},l))}));function h(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=d;var b={};for(var c in a)hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.originalType=e,b.mdxType="string"==typeof e?e:r,i[1]=b;for(var l=2;l<o;l++)i[l]=t[l];return n.a.createElement.apply(null,i)}return n.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);