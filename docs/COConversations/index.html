<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-129291740-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-129291740-2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-129291740-2",{})</script>

<title data-react-helmet="true">Conversations &amp; Alerts | My Site</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Conversations &amp; Alerts | My Site"><meta data-react-helmet="true" name="description" content="![Licence](https://img.shields.io/badge/Licence-MIT-blue.svg)"><meta data-react-helmet="true" property="og:description" content="![Licence](https://img.shields.io/badge/Licence-MIT-blue.svg)"><meta data-react-helmet="true" property="og:url" content="https://Samagra-Development.github.io/docs/docs/docs/COConversations">

<link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.png">


<link rel="stylesheet" href="/docs/styles.dd38a814.css">


<link rel="preload" href="/docs/styles.e8faa8e6.js" as="script">

<link rel="preload" href="/docs/runtime~main.428b9a5c.js" as="script">

<link rel="preload" href="/docs/main.0af63354.js" as="script">

<link rel="preload" href="/docs/1.2fc6a350.js" as="script">

<link rel="preload" href="/docs/2.548d330f.js" as="script">

<link rel="preload" href="/docs/3.4ec44101.js" as="script">

<link rel="preload" href="/docs/1be78505.9e5e06ff.js" as="script">

<link rel="preload" href="/docs/64f9f2ab.daf97887.js" as="script">

<link rel="preload" href="/docs/17896441.ac626e53.js" as="script">

<link rel="preload" href="/docs/65943381.ce8a809f.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/docs/"></a><a target="_self" rel="noopener noreferrer" href="https://tech.samagragovernance.in/" class="navbar__item navbar__link">Tech@Samagra</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/docs/ComponentsOverview">Docs</a><a class="navbar__item navbar__link" href="/docs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://Samagra-Development.github.io/docs" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/docs/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_self" rel="noopener noreferrer" href="https://tech.samagragovernance.in/" class="menu__link">Tech@Samagra</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/docs/ComponentsOverview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/blog">Blog</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://Samagra-Development.github.io/docs" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Products</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Samiksha</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/SamikshaFuncSpecs">Samiksha FuncSpecs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/deploysamiksha">Deploy Samiksha</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Samwad</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/SamwadFuncSpecs">Samwad FuncSpecs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/deploysamwad">Deploy Samwad</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Pariksha</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/ParikshaFuncSpecs">Pariksha FuncSpecs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/deploypariksha">Deploy Pariksha</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/ComponentsOverview">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Mobile Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/COMobileApplication">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/GettingStartedMobileComponent">Build Your App</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/FormManagementModule">Form Management Module</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/AncillaryScreensModule">Ancillary Screens Module</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/AndroidProfileManagementModule">Profile Screens Module</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/CascadingSearchModule">Cascading Dropdowns Module</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/NotificationModule">Notifications Module</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/OfflineHandlingModule">Offline Handling Module</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/Grove">App Logging</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/CommunicatingAmongModules">Communicating Among Modules</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Application Control</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/COAppControl">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/AppControlPanel">Application Control Console</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/UserManagement">User Management</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/UserAuthentication">User Authentication</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/UserAuthorisation">User Authorisation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/AppDataManagement">Application Data Management</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/AppConfig">Application Config Management</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/AdminSidebarConfig">Sidebar Config</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/AdminAddingMultipleLanguages">Adding Multiple Languages</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/AdminAddingCustomRoutes">Custom Routes</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Database Management</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/CODatabaseManagement">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">PostgreSQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/PSQLOverview">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/dSmall">dSmall</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/dMedium">dMedium</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/pSmall">pSmall</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/pMedium">pMedium</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/pLarge">pLarge</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/PSQLReplication">PSQL Replication</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Data Analytics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/CODataAnalytics">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/DataVisualization">Data Visualization</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">PDF Generator</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/COPDFGenerator">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/GoogleDoc2PDF">Google Docs to PDF</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/FormResponses2PDF">Form Response to PDF (alpha)</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/HTML2PDF">HTML Pages to PDF</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/PDFBuildAPlugin">Building A Plugin</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/PDFModuleArchitecture">Architecture</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Conversations &amp; Alerts</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/docs/COConversations">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/CommunicationAdapter">Conversation Channel Adapters</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/CommunicationTransformer">Transformer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docs/CommunicationOrchestrator">Logic Manager</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/docs/XMessageSpec">XMessage Specification</a></li></ul></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Conversations &amp; Alerts</h1></header><div class="markdown"><p><img src="https://img.shields.io/badge/Licence-MIT-blue.svg" alt="Licence"></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="component-overview"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#component-overview" title="Direct link to heading">#</a>Component Overview</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="1-introduction"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-introduction" title="Direct link to heading">#</a>1. Introduction</h2><p>As bureaucrats and politicians manage the fallout of Covid-19 and its resultant restrictions, a question different governments are grappling with is - how can communication channels such as WhatsApp be leveraged to reach out to citizens and government on-field officials. Today, there are different government systems that are linked to government call centres, send SMS and email alerts, take feedback from IVRS. While these exist in some state departments and central government ministries the questions of how to use them are evolving. For instance</p><ul><li>how do you start a converation with a person when they don&#x27;t respond on SMS, or on WhatsApp?</li><li>if you change your channel of communication can you follow the same conversation question logic? e.g. if SMS does not get delivered in 8 hours send WhatsApp, if WhatsApp not read for 8 hour send IVRS</li><li>can the conversation be adaptive and personalized? e.g. test that keeps getting difficult if you get things right</li><li>if the conversation is adaptive can grievances be entirely managed through WhatsApp bots? e.g. grievance about your local street light to your municipal corporation </li><li>can citizens upload pictures and videos while sharing their grievance through a WhatsApp bot?</li><li>can citizens get auto SMS or WhatsApp updates to indicate status of their grievance? </li><li>if students do their assessments using a WhatsApp bot can they be sent an auto generated Certificate on WhatsApp itself?</li></ul><p>These are some of the questions that can be turned into reality through this Conversations &amp; Alerts component. The Conversations &amp; Alerts component enables multi-channel communication using WhatsApp, SMS, IVRS, direct calls and emails to streamline governance as we move towards a new normal where proactive and personalized communication will be a basic expectation from governments.</p><p>This documentation of the Conversations &amp; Alerts component will give you an overview of the design decisions that inform the architecture of the component, how you can get started to deploy this component, how you can setup different modules within this component and additional reference information in case you want to dive deeper into the implementation of this component.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="1-use-cases"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-use-cases" title="Direct link to heading">#</a>1. Use cases</h2><p>The following list includes a set of use cases abstracted from different on-ground state department functions.</p><ol><li>User can create and launch logic based conversations such as a helpline, for grievance management, for taking student assessment, share updates with your stakeholders</li><li>User can send conversations using multiple channels such as WhatsApp, SMS, Email, IVRS (more can be added by the user such as Telegram, Slack etc)</li><li>User can setup additional computations on these conversations such as auto generation of PDFs, email with data summaries (more can be added by the user)</li><li>User can auto send conversations using pre-configured triggers on databases</li><li>User can setup a smart grievance redressal / helpline converation through WhatsApp / SMS bots.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="2-design-decisions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-design-decisions" title="Direct link to heading">#</a>2. Design decisions</h2><p>While architecting this component we had the following questions.</p><ol><li>Why should governments spend public expenditure for creating a platform for managing a conversation? (use exiting open source tools to build one)</li><li>With the recent Data Protection Bill 2019, why should governments store conversation data on private / thrid party servers? (should be deployable on govt infrastructure)</li><li>Can we decrease the time spent to configure conversations across different channels? (single simple method to do so)</li><li>Can the government not be locked-in by a single channel service provider? (freely switch between private vendors thereby increasing market competition for core service)</li><li>In addition to WhatsApp, SMS, Email, IVRS if  governments want to send and receive information from other channels such as Kaizala, Telegram and Slack that they use for internal communication, then can those be integrated? (modular mechanism to plug and play channels)</li><li>If 20 state governments start conversations with 100,000,000 users can the system manage it well? (database design with smart horizontal scaling)</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="3-component-design"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-component-design" title="Direct link to heading">#</a>3. Component Design</h2><p>The conversaton component is developed using <strong>multi-modular architecture</strong> with <strong>independently functioning modules</strong>.</p><p><img src="https://samagra-development.github.io/docs/img/communications.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="31-technology-architecture"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#31-technology-architecture" title="Direct link to heading">#</a>3.1 Technology Architecture</h2><p>A simplified architecture of the communication package is shown below.</p><p><img src="https://samagra-development.github.io/docs/img/comm_arch.jpg"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="32-components-modules"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#32-components-modules" title="Direct link to heading">#</a>3.2 Components modules</h2><p>The following table provides an overview of the different modules within the Conversations &amp; Alerts component, the opensource libraries used for each.</p><table><thead><tr><th>Module Name</th><th></th></tr></thead><tbody><tr><td><strong>Channel Adapters</strong></td><td>1. Integrate conversation channels such as WhatsApp, SMS, Email with existing adapter <br>2. Create your own adapter to integrate with other chat services. <br>3. Adapters available for WhatsApp, SMS - CDAC, SMS - Gupshup</td></tr><tr><td><strong>Orchestrator (Router)</strong></td><td>1. Move routing logic outside of code and make it more accessible to everyone. <br>2. Manage multi-channel communication <br>3. Manage logic for moving a user from one channel to another <br>3. Transformers available - conversation response based PDF &amp; Word doc creator</td></tr><tr><td><strong>Transformer</strong></td><td>1. Create and integrate utility services using the open source transformer desgin such as <br> - PDF creator, <br> - Profanity checker <br> - Language translator <br> - Conversation voice analyser <br>2. Opensource tools usd - Drools</td></tr><tr><td><strong>Event Bus</strong></td><td>1. Building a near real time broker <br> 2. Adding services outside of the system to the internals <br> 3. Providing streams on which the orchestrator can run efficiently. <br>4. Open source tools used - Kafka, PSQL</td></tr><tr><td><strong>Managing User Conversations</strong></td><td>1. Manage data of ongoing conversations <br>2. Manage data for completed conversations <br>3. Manage data from utility services enabled within the conversations <br> This is built in the Application Console.</td></tr></tbody></table></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Samagra-Development/docs/edit/master/docs/Component Overview Conversation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/docs/PDFModuleArchitecture"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Architecture</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/docs/CommunicationAdapter"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Conversation Channel Adapters »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#1-introduction" class="contents__link">1. Introduction</a></li><li><a href="#1-use-cases" class="contents__link">1. Use cases</a></li><li><a href="#2-design-decisions" class="contents__link">2. Design decisions</a></li><li><a href="#3-component-design" class="contents__link">3. Component Design</a></li><li><a href="#31-technology-architecture" class="contents__link">3.1 Technology Architecture</a></li><li><a href="#32-components-modules" class="contents__link">3.2 Components modules</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Samagra Development Associates Pvt. Ltd | 2020 | Built with Docusaurus</div></div></div></footer>
</div>

<script src="/docs/styles.e8faa8e6.js"></script>

<script src="/docs/runtime~main.428b9a5c.js"></script>

<script src="/docs/main.0af63354.js"></script>

<script src="/docs/1.2fc6a350.js"></script>

<script src="/docs/2.548d330f.js"></script>

<script src="/docs/3.4ec44101.js"></script>

<script src="/docs/1be78505.9e5e06ff.js"></script>

<script src="/docs/64f9f2ab.daf97887.js"></script>

<script src="/docs/17896441.ac626e53.js"></script>

<script src="/docs/65943381.ce8a809f.js"></script>


</body>
</html>